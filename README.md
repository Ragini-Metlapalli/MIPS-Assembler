# MIPS-Assembler

## Project Overview
This project demonstrates the implementation of a sorting algorithm in MIPS assembly and the creation of an assembler in Python to convert MIPS assembly code into machine code.

## Files 
- **029_128_full_template_code.asm:** Contains the template code given along with the sorting algorithm that we have written.
- **029_128_assembler.py:** Contains the Python code that works as an assembler to convert the MIPS assembly contents of the file `029_128_full_template_code.asm` into machine code and outputs into a `029_128_machine_code.txt` file.
- **029_128_maincode.asm:** Contains the sorting algorithm (selection sort) that we have written in MIPS along with comments to explain the code lines.
- **029_128_machine_code.txt:** The output of the assembler i.e., the machine code is written into this file.

## Assembly Programming

### Sorting Algorithm
I have implemented the Selection Sort algorithm in MIPS assembly to sort a given input array of integers in descending order.

### Brief Explanation of the Code
- **In-place Sorting:** The input array of integers is copied to the output address, and sorting is performed at the output array's address location.
- **loopi:** Loads integers from the input array to the output array.
- **loop2:** The outer loop that iterates through the array.
- **loop3:** The inner loop that finds the maximum element’s index from the unsorted part.
- **Swapping:** At the end of `loop3`, elements at the maximum index and the outer loop’s counter are swapped.
- **Descending Order:** This Selection Sort algorithm stores the sorted integers in descending order at the output address range.

## Assembler

### Functionality
The assembler reads the MIPS assembly program and generates the corresponding machine code. It verifies the machine code generated by the assembler with the one generated by MARS.

### Code Explanation

#### create_lines(filename)
- Reads MIPS assembly code from a file line by line.
- Ignores lines that are comments and part of the `.data` segment.
- Processes each instruction, handling pseudo instructions and label mappings.
- Uses dictionaries (`jal_map`, `op_code`, `function_code`, `register`) for mappings.

#### assembly_machine(instruction)
- Converts assembly instructions into machine code based on the instruction type (R, I, J).
- Handles syscall, R-type, I-type, and J-type instructions.
- Generates binary and hexadecimal representations of MIPS instructions.

#### write_to_file(code, output_file)
- Writes the list of machine code instructions to a specified output file in both binary and hexadecimal formats.

### Verification
- The machine code written into the output file is verified with the code generated by the MARS simulator to ensure the correctness of our assembler.

## Usage
To run the assembler and generate the machine code:
1. Ensure you have Python installed.
2. Place the `029_128_full_template_code.asm` in the same directory as `029_128_assembler.py`.
3. Run the Python script:
   ```bash
   python 029_128_assembler.py
4. Check the generated 029_128_machine_code.txt for the machine code output.
